{{!-- pages/jquery/ajax-promise.hbs --}}

{{#> layouts/base title="Ajax Promise | jQuery" }}

    {{#*inline "header-block"}}
        {{#> components/header
             brand='jQuery'
        }}
            {{> components/header__point--external
                    point-title='Ajax Static'
                    point-href='ajax.html'
            }}
            {{> components/header__point--external
                    point-title='Ajax Json'
                    point-href='ajax-json.html'
            }}
            {{> components/header__point
                    point-title='Ajax Promise'
                    point-href='ajax-promise'
            }}
        {{/components/header}}
    {{/inline}}

    {{#*inline "main-block"}}

        {{#> sublayouts/grid1
                id='ajax-promise'
        }}
            {{> components/c001-basic-content
                    heading-primary='Ajax Promise'
                    heading-secondary='Getting data from JSON and promising this to other functions'
                    body-content='
                    <p class="">
                        Same demo as <a href="ajax-json.html">previous page</a> but instead of pulling same set of data for each demo (so doing same call 3 times) i will call the data once and pass a <code>promise</code> back to an <code>object</code> which will then be used by each of the demo`s instead.
                        Each will make use of their own markup once the <code>promise</code> is successful.
                    </p>
                    <h3 class="mt-5">Things to note</h3>
                    <ul class="">
                        <li>Use of a <code>promise</code></li>
                        <li>Use of <code>$.when</code> and <code>.then</code> for success handling</li>
                        <li>Use of <code>.fail</code> for error handling</li>
                        <li>Use of <code>const</code> (for the data json object as this data is constant) and <code>let</code> rather than <code>var</code></li>
                    </ul>
                    '
            }}
            {{> components/c001-basic-content
                    body-content='
                    <div class="text-center">
                        <div class="btn-group demo-buttons my-5" role="group" aria-label="Basic example">
                            <button type="button" class="btn btn-outline-default waves-effect demo1">Cards</button>
                            <button type="button" class="btn btn-outline-default waves-effect demo2">Table</button>
                            <button type="button" class="btn btn-outline-default waves-effect demo3">List</button>
                        </div>
                    </div>
                    '
            }}
        {{/sublayouts/grid1}}

        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div id="demoOneContainer" class="demo-container boo" style="display:none;">
                        <div class="loading" id="progress1"></div>
                        <div class="text-center">
                            <p class="lead"><strong><span class="booksnumber"></span></strong> Books</p>
                        </div>
                        <div class="row"  id="injectHere">

                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div id="demoTwoContainer" class="demo-container" style="display:none;">
                        <div class="loading" id="progress2"></div>
                        <div class="text-center">
                            <p class="lead"><strong><span class="booksnumber"></span></strong> Books</p>
                        </div>
                        <div class="table-responsive">
                            <table class="table" id="records_table3">
                                <thead class="bg-dark text-white">

                                </thead>
                                <tbody>

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div id="demoThreeContainer" class="demo-container" style="display:none;">

                        <div class="loading" id="progress3"></div>
                        <div class="text-center">
                            <p class="lead"><strong><span class="booksnumber"></span></strong> Books</p>
                        </div>
                        <div class="row">
                            <div class="col" id="demo3">
                                <ul class="list-inline">

                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

{{!-- ------- --}}
{{!-- DIVIDER --}}
{{!-- ------- --}}
{{> components/c004-divider }}

    {{/inline}}

    {{#*inline "footer-block"}}
        {{> components/footer
                body-content='
                <ul class="list-inline my-0">
                    <li class="list-inline-item"><a href="../index.html">Home</a></li>
                </ul>
            '
        }}
    {{/inline}}

    {{#*inline "scripts-block"}}
        <!-- Bespoke to page JavaScript -->
        <script src="{{domainprefix}}js/bespoke/jquery/ajax-promise.js?v{{version}}"></script>
    {{/inline}}

{{/layouts/base}}
